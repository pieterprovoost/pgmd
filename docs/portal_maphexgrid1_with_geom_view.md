# maphexgrid1_with_geom
database: [obis](../)  
schema: [portal](portal)  

    SELECT g.id, g.centrelat AS centre_latitude, g.centrelon AS centre_longitude, g.area AS surface_area_in_square_km, g.geom, c.n, c.s, p.s AS number_of_phyla, (c.shannon)::real AS shannon, (c.simpson)::real AS simpson, (c.es)::real AS es, c.hill_1, c.hill_2, c.hill_inf AS hill_infinite, (c.d)::real AS number_of_records_per_square_km, b.s AS number_of_species_for_chao_in_cell_biota, b.n AS number_of_records_for_chao_in_cell_biota, b.chao2u AS chao2_unbiased_biota, b.uchao2 AS upper_95_percent_confidence_limit_on_chao2_biota, b.lchao2 AS lower_95_percent_confidence_limit_on_chao2_biota, b.sdchao2u AS standard_deviation_of_chao2_unbiased_biota, b.chao1u AS chao1_unbiased_biota, b.uchao1 AS upper_95_percent_confidence_limit_on_chao1_biota, b.lchao1 AS lower_95_percent_confidence_limit_on_chao1_biota, b.sdchao1u AS standard_deviation_of_chao1_unbiased_biota, b.jack1 AS first_order_jack_knife_estimate_biota, b.jack2 AS second_order_jack_knife_estimate_biota, b.boot AS boot_biota, b.completeness AS completeness_biota, pi.s AS number_of_species_for_chao_in_cell_pisces, pi.n AS number_of_records_for_chao_in_cell_pisces, pi.chao2u AS chao2_unbiased_pisces, pi.uchao2 AS upper_95_percent_confidence_limit_on_chao2_pisces, pi.lchao2 AS lower_95_percent_confidence_limit_on_chao2_pisces, pi.sdchao2u AS standard_deviation_of_chao2_unbiased_pisces, pi.chao1u AS chao1_unbiased_pisces, pi.uchao1 AS upper_95_percent_confidence_limit_on_chao1_pisces, pi.lchao1 AS lower_95_percent_confidence_limit_on_chao1_pisces, pi.sdchao1u AS standard_deviation_of_chao1_unbiased_pisces, pi.jack1 AS first_order_jack_knife_estimate_pisces, pi.jack2 AS second_order_jack_knife_estimate_pisces, pi.boot AS boot_pisces, pi.completeness AS completeness_pisces, i.redlist_species_count, e.extinct_species_count, s.number_of_days_visited AS number_of_1day_sampling_events, s.min_date AS date_of_earliest_record, s.max_date AS date_of_latest_record FROM (((((((hexgrid.hexgrid1 g LEFT JOIN calc.biota_species_hexgrid1_completeness b ON (((b.geocode = g.id) AND (b.completeness IS NOT NULL)))) LEFT JOIN calc.pisces_species_hexgrid1_completeness pi ON (((pi.geocode = g.id) AND (pi.completeness IS NOT NULL)))) LEFT JOIN hexgrid.calc_hexgrid1 c ON ((c.hex_id = g.id))) LEFT JOIN hexgrid.calc_hexgrid1_30_phylum p ON ((p.hex_id = g.id))) LEFT JOIN calc.hexgrid1_sampling_days s ON ((s.hexgrid1_id = g.id))) LEFT JOIN iucn2014.redlist_species_count_hexgrid1 i ON ((i.hex_id = g.id))) LEFT JOIN calc.extinct_species_count_hexgrid1 e ON ((e.geom_id = g.id)));